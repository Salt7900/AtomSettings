{"version":1,"windowDimensions":{"x":4,"y":23,"width":1276,"height":777,"maximized":true},"grammars":{"grammarOverridesByPath":{}},"project":{"deserializer":"Project","paths":["/Users/benfallon/Desktop/random coding/adesaScraper"],"buffers":[{"text":"require 'nokogiri'\nrequire 'mechanize'\n\ncounter = 1\n\nagent = Mechanize.new\n\nmanhiem_page = agent.get('https://www.manheim.com/?WT.svl=m_hdr_mnav_mlogo')\n\npage = Nokogiri::HTML(open(\"adesa.html\"))\n\n# page_data = page.css('.ym')\n#\n# my_vins = page_data.text.scan(/.{17}/)\n\n\n\n# my_vins.each do |vin|\n#   p counter\n#   p vin\n#   counter += 1\n# end\n\n#pp manhiem_page\n\nlogin_form = manhiem_page.forms[1]\nlogin_form.field_with(:name => 'user[username]').value = \"8475266200\"\nlogin_form.field_with(:name => 'user[password]').value = \"cmm1002\"\n\nmanhiem_page = agent.submit(login_form, login_form.buttons.first)\n\nsleep(1)\n\nmmr_page = agent.get(\"https://www.manheim.com/members/internetmmr/?WT.svl=m_hdr_mnav_buy_mmr&source=man\")\n\nmy_page = mmr_page.frames[0].click\nmy_second_page = my_page.frames[0].click\n\nvin_form = my_second_page.forms[1]\n\nvin_form.field_with(:name => 'vehicleVinProperty').value = '1FM5K7D81DGB05003'\nresults_page = agent.submit(vin_form, vin_form.buttons.first)\n\npp my_page\n\n# car_results = results_page.frames[1].click\n#\n# pp car_results\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"nextMarkerId":0,"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"nextMarkerId":0,"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"nextMarkerId":1,"id":"2","maintainHistory":true,"markersById":{"2-0":{"range":{"start":{"row":0,"column":0},"end":{"row":48,"column":0}},"properties":{"type":"selection","goalScreenRange":null},"reversed":true,"tailed":true,"valid":true,"invalidate":"never"}},"version":2}},"nextMarkerLayerId":3,"history":{"version":3,"nextCheckpointId":9,"undoStack":[],"redoStack":[{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[1,0],[2,0]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[1,0],[1,0]],"newRange":[[1,0],[1,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[2,0],[2,0]],"newRange":[[2,0],[2,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[1,0],[1,0]],"newRange":[[1,0],[2,0]],"oldText":"","newText":"\n"}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[1,0],[1,0]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[1,0],[1,0]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[0,0],[0,0]],"newRange":[[0,0],[0,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[1,0],[1,0]],"newRange":[[1,0],[1,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[0,0],[48,0]],"newRange":[[0,0],[1,0]],"oldText":"require 'nokogiri'\nrequire 'mechanize'\n\ncounter = 1\n\nagent = Mechanize.new\n\nmanhiem_page = agent.get('https://www.manheim.com/?WT.svl=m_hdr_mnav_mlogo')\n\npage = Nokogiri::HTML(open(\"adesa.html\"))\n\n# page_data = page.css('.ym')\n#\n# my_vins = page_data.text.scan(/.{17}/)\n\n\n\n# my_vins.each do |vin|\n#   p counter\n#   p vin\n#   counter += 1\n# end\n\n#pp manhiem_page\n\nlogin_form = manhiem_page.forms[1]\nlogin_form.field_with(:name => 'user[username]').value = \"8475266200\"\nlogin_form.field_with(:name => 'user[password]').value = \"cmm1002\"\n\nmanhiem_page = agent.submit(login_form, login_form.buttons.first)\n\nsleep(1)\n\nmmr_page = agent.get(\"https://www.manheim.com/members/internetmmr/?WT.svl=m_hdr_mnav_buy_mmr&source=man\")\n\nmy_page = mmr_page.frames[0].click\nmy_second_page = my_page.frames[0].click\n\nvin_form = my_second_page.forms[1]\n\nvin_form.field_with(:name => 'vehicleVinProperty').value = '1FM5K7D81DGB05003'\nresults_page = agent.submit(vin_form, vin_form.buttons.first)\n\npp my_page\n\n# car_results = results_page.frames[1].click\n#\n# pp car_results\n","newText":"\n"}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[0,0],[48,0]],"properties":{"type":"selection","goalScreenRange":null},"reversed":true,"tailed":true,"valid":true,"invalidate":"never"}}}}]},"encoding":"utf8","filePath":"/Users/benfallon/Desktop/random coding/adesaScraper/adesaScraper.rb","digestWhenLastPersisted":"c6ce54d45d42c1cd458493f4072786e7ddb55ffa","preferredLineEnding":null,"deserializer":"TextBuffer","version":4},{"text":"require 'nokogiri'\nrequire 'mechanize'\nrequire 'watir'\nrequire 'watir-webdriver'\n\nbrowser = Watir::Browser.new :chrome\n\n#goes to and logs into manheim\nbrowser.goto 'https://www.manheim.com/'\nbrowser.text_field(:name => 'user[username]').set(\"8475266200\")\nbrowser.text_field(:name => 'user[password]').set(\"cmm1002\")\nbrowser.button(:name => 'submit').click\n\nsleep 2.5\n\n#this should be set to the simulcast page of the sale\nbrowser.goto 'https://simulcast.manheim.com/simulcast/showRunSummariesByConsignor.do?vehicleGroupKey=a%3aDETA_s%3a91752_c%3aFOR_l%3a1_v%3a77_q%3aALL&locale=en_US'\n\n#this should be the number of cars\ncar_count = 377\n\ntable = browser.table(:class => \"vehicleListing\")\n\ntable_counter = 0\n\n\ncar_count.times do\n  browser.link(:text => \"CARFAX\", :index => table_counter).when_present.click\n\n  sleep 2.5\n\n  browser.windows.last.use\n\n  sleep 2.5\n\n  if browser.li(:id, 'fs_0').exists?\n    browser.li(:id,\"fs_0\").click\n\n    sleep 2.5\n\n    p browser.div(:id, \"vin\").text\n\n    if browser.td(:id,\"titleBrandText\").exists?\n      title_branding = browser.td(:id,\"titleBrandText\").text\n      if title_branding == \"No branded titles\"\n        p \"Title - OK\"\n      else\n        p title_branding\n      end\n    end\n\n    if browser.td(:id,\"damageText\").exists?\n      damaged_text = browser.td(:id,\"damageText\").text\n      if damaged_text == \"No accident / damage reported\"\n        p \"Damage - OK\"\n      else\n        p damaged_text\n      end\n    end\n\n    if browser.td(:id,\"odometerText\").exists?\n      odometer_text = browser.td(:id,\"odometerText\").text\n      if odometer_text == \"No odometer rollback indicated\"\n        p \"Odometer - OK\"\n      else\n        p odometer_text\n      end\n    end\n\n    if browser.td(:id,\"ownershipText\").exists?\n      p browser.td(:id,\"ownershipText\").text\n    end\n\n    p \"-----------------------------------\"\n\n  end\n\n  browser.window(:title, \"Auction Check\").close\n\n  browser.windows.first.use\n\n  table_counter += 1\nend\n\nbrowser.close\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"nextMarkerId":0,"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"nextMarkerId":0,"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"nextMarkerId":1,"id":"2","maintainHistory":true,"markersById":{"2-0":{"range":{"start":{"row":15,"column":53},"end":{"row":15,"column":53}},"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2}},"nextMarkerLayerId":3,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/benfallon/Desktop/random coding/carfaxing/carfaxing.rb","digestWhenLastPersisted":"a62b3824e33a5594e7c216d83b174dcabaa57e71","preferredLineEnding":null,"deserializer":"TextBuffer","version":4}]},"workspace":{"deserializer":"Workspace","paneContainer":{"deserializer":"PaneContainer","version":1,"root":{"deserializer":"Pane","id":3,"items":[{"deserializer":"TextEditor","id":4,"softTabs":true,"firstVisibleScreenRow":-129,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":5,"softWrapped":true,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/benfallon/Desktop/random coding/adesaScraper/adesaScraper.rb","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"SettingsView","version":2,"activePanelName":"Packages","uri":"atom://config"},{"deserializer":"TextEditor","id":16,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":17,"softWrapped":true,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/benfallon/Desktop/random coding/carfaxing/carfaxing.rb","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"}],"activeItemURI":"atom://config","focused":true,"flexScale":1},"activePaneId":3},"packagesWithActiveGrammars":["language-ruby","language-hyperlink","language-todo"],"destroyedItemURIs":["/Users/benfallon/Desktop/random coding/HTMLFiles(ALASKA Jenny)/extracting.rb"]},"packageStates":{"pigments":{"project":{"deserializer":"ColorProject","timestamp":"2015-12-12T04:35:24.928Z","version":"1.0.1","markersVersion":"1.0.5","globalSourceNames":["**/*.styl","**/*.stylus","**/*.less","**/*.sass","**/*.scss"],"globalIgnoredNames":["vendor/*","node_modules/*","spec/*","test/*"],"buffers":{"4":{"id":4,"path":"/Users/benfallon/Desktop/random coding/adesaScraper/adesaScraper.rb","colorMarkers":[]},"16":{"id":16,"path":"/Users/benfallon/Desktop/random coding/carfaxing/carfaxing.rb","colorMarkers":[]}}}},"find-and-replace":{"findOptions":{"findPattern":"","replacePattern":"","pathsPattern":"","useRegex":false,"wholeWord":false,"caseSensitive":false,"inCurrentSelection":false},"findHistory":[],"replaceHistory":[],"pathsHistory":[]},"fuzzy-finder":{"/Users/benfallon/Desktop/random coding/adesaScraper/adesaScraper.rb":1449894908961,"/Users/benfallon/Desktop/random coding/carfaxing/carfaxing.rb":1449894765563},"metrics":{"sessionLength":159234},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/Users/benfallon/Desktop/random coding/adesaScraper":{"isExpanded":true,"entries":{}}},"hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}},"fullScreen":false}